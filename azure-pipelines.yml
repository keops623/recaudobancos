trigger:
- qa
- develop

resources:
  repositories:
    - repository: templates
      type: git
      name: master-pipelines
      ref: 'refs/heads/main'

stages:
  - template: master-corona.yml@templates
    parameters:
      tecnologia: 'netcore'
      nombreImagen: imgserviciobancodevops
      conexionSonar: Sonar_Corona
      sonarProjectKey: RecaudosServicioBanco
      sonarProjectName: RecaudosServicioBanco
      containerRegistryName: Dev_Recaudos_Pagos_Corona_Registry
      tag: ServicioBanco
            
      # parametros para deploy
      artifactDocker: true #Condicion de IF para saber si se realiza Docker Push
      cloud: 'azure' # parametro para iniciar CD de Azure con Docker para implementar
      deployType: 'docker'
      repoName: 'CC00-RecaudosServicioBanco-NetCore' #NO! tocar, solo equipo DevSecOps
      serviceName: 'service' #NO! tocar, solo equipo DevSecOps
      projectName: 'recaudos'